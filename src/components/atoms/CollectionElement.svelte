<script>
    import urlFor from '../../assets/scripts/utils/urlFor';

    export let Post;
    export let Index;
    export let type;
</script>

<style lang="scss">
    .project-item{
        position: relative;
        height: 100%;
        overflow: hidden;
        border-radius: 16px;
        p{
            margin-left: 16px;
            text-transform: uppercase;
        }
        display:block;
        picture{
            display:flex;
            height: 100%;
            width:100%;
            overflow:hidden;
            border-radius: 16px;
            img{
                justify-content: center;
                align-items: center;
                margin: auto;
                width: 100%;
                height:100%;
            }
        }
        .top{
            display:none;
            opacity: 0;
            position:absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items:center;
            cursor: pointer;
            transition-duration: 300ms;
        }
        &:hover{
            .top{
                display: flex;
                opacity: 1;
                transition-duration: 300ms;
                
            }
        }
    }
    a{
        text-decoration: none;
    }
    @media screen and (max-width: 425px){
            // Tablette
            .project-item{
                p{
               font-size: 8px;
               margin-left: 6px;
           }
           picture{
               border-radius: 6px;
           }
            }

            .top{
                svg{        
                    width: 60px;
                }
            }
        }
</style>

<a class='link project-item' class:type={type} href={'/' + Post.category +'/'+ Post.slug.current}>
    <div>
    <p>{Index > 8 ? Index + 1 : "0" + (Index + 1)} ‚Åï {Post.name}</p>
    <picture>
        <img src={urlFor(Post.cover).width(300).height(200)} alt="image de couverture">
    </picture>
    </div>
    <div class="top">
        <svg xmlns="http://www.w3.org/2000/svg" width="80" height="76" viewBox="0 0 80 76" fill="none">
            <path d="M39.8581 21.702C39.7163 33.9006 49.6454 43.8297 61.9858 43.6878H61.4184C49.3617 43.8297 39.7163 53.7588 39.8581 65.8155V65.6737C39.7163 53.6169 29.9291 43.9715 18.0142 43.8297H17.8723C29.9291 43.6878 39.8581 33.9006 39.8581 21.702Z" fill="white"/>
            <path d="M5.39005 41.4186C2.41133 40.993 -0.425552 38.298 -1.97987e-05 34.4682C0.141824 33.0498 0.7092 32.3406 0.992888 30.7803L5.81558 30.9221C2.41133 30.9221 0.567356 32.4824 0.283668 34.4682C-0.141864 37.4469 2.41133 39.1491 5.67374 39.5746C8.93615 40.0001 11.6312 38.8654 12.0567 36.0285C12.3404 34.0427 11.4893 32.1987 9.64537 31.2058C12.0567 32.3406 12.4822 34.6101 12.3404 36.0285C11.9149 39.8583 8.51062 41.7023 5.39005 41.4186Z" fill="white"/>
            <path d="M13.0496 31.0637C13.4751 29.929 12.6241 29.5034 8.36876 27.2339C4.11345 24.9644 3.26238 24.5389 2.55316 25.5318L4.11345 22.5531C4.11345 23.4041 4.82267 23.6878 9.07798 25.9573C12.7659 27.9431 14.0425 28.6524 15.0354 26.8084C16.4539 24.1134 14.8936 21.9857 13.3333 20.7091L17.0212 23.6878L13.0496 31.0637Z" fill="white"/>
            <path d="M17.8723 22.8369C18.156 22.1277 17.4468 21.5603 13.9007 18.2979C10.3546 15.0355 9.78721 14.4681 8.93614 14.8936L11.3475 12.3405C10.6383 13.3334 11.3475 14.0426 14.8936 17.1631C18.4397 20.4256 19.2908 20.9929 20.1418 20.2837L17.8723 22.8369Z" fill="white"/>
            <path d="M17.0212 14.61C15.3191 12.0568 15.6028 8.08516 18.8652 6.09935C20 5.39013 20.9929 5.24828 22.2695 4.53906L25.2482 8.22701C23.1205 5.53197 20.7092 5.24828 19.007 6.24119C16.4539 7.80147 16.8794 10.922 18.5815 13.6171C20.2836 16.3121 22.9787 17.8724 25.39 16.1703C26.9503 15.1774 27.9432 13.3334 27.5177 11.3476C28.2269 13.9008 26.6666 15.7447 25.5319 16.454C22.2695 18.7235 18.7234 17.305 17.0212 14.61Z" fill="white"/>
            <path d="M29.7872 13.7589C30.922 13.3333 30.7801 12.4823 29.9291 7.65957C29.078 2.83688 28.7943 1.98582 27.6596 1.98582L31.0638 1.41844C30.3546 1.84397 30.4965 2.69504 31.4894 7.37589C32.3404 12.0567 32.6241 13.0496 33.3333 13.0496L29.7872 13.7589ZM37.1631 12.3404C34.0426 9.64539 33.1915 8.79433 31.4894 7.23404C33.0496 4.25532 34.0426 2.83688 35.6028 0.567376L38.4397 0C36.1702 0.567376 34.3262 2.69504 32.4823 5.95745C34.4681 7.80142 35.1773 8.51064 36.7376 9.64539C38.0142 10.6383 40 11.9149 41.844 11.4894L37.1631 12.3404Z" fill="white"/>
            <path d="M54.8936 16.0283L51.6312 14.7517C52.766 15.0353 53.1915 14.1843 54.8936 9.64528L48.9362 7.37577C47.234 11.9148 46.9503 12.7658 47.9433 13.3332L44.6808 12.0566C45.5319 12.0566 45.6738 11.2056 47.5177 6.66655C49.2199 2.12755 49.5035 1.41833 48.9362 0.850952L52.1986 2.12755C51.0638 1.84386 50.6383 2.69492 49.078 7.09209L55.0355 9.36159C56.7376 4.96443 56.8794 4.11336 55.8865 3.54599L59.1489 4.82258C58.2979 4.82258 58.0142 5.67365 56.3121 10.2127C54.6099 14.7517 54.3262 15.6027 54.8936 16.0283Z" fill="white"/>
            <path d="M61.1347 13.6171C64.3971 10.071 65.1064 9.3618 64.2553 8.3689L69.9291 13.759L67.9432 16.5958C69.2198 14.61 68.6525 12.9079 67.0922 11.3476L66.2411 10.6384C65.5319 11.2058 64.3971 12.1987 62.4113 14.3263L63.9716 15.8866C64.9645 16.7377 65.9574 16.3122 67.234 15.0356L63.2624 19.2909C64.539 18.0143 64.6808 16.8795 63.8298 16.0285L62.2695 14.4682C59.5745 17.3051 58.8652 18.4398 58.5815 19.0072L59.0071 19.4327C61.4184 21.7022 63.5461 21.8441 65.5319 20.1419L62.4113 22.9788L56.1702 17.1632C57.0213 17.8724 57.7305 17.1632 61.1347 13.6171Z" fill="white"/>
            <path d="M63.1206 24.1133C63.8298 25.1062 64.6808 24.6807 69.078 22.5531C73.4752 20.4254 74.3262 19.9999 73.9007 18.8651L75.8865 23.1204C77.0213 25.5318 76.312 27.5176 74.8936 28.2268C73.0496 29.0779 70.922 27.9431 70.0709 25.9573C70.6383 27.0921 70.3546 28.6523 69.7872 29.6453C68.0851 32.9077 67.6596 33.1914 68.7943 35.6027L66.6667 31.2055C68.7943 28.5105 70.0709 25.9573 69.3617 24.397C70.4964 26.5247 72.3404 27.3758 74.3262 26.3828C75.6028 25.6736 76.4539 24.2552 75.6028 22.5531C75.3191 22.1275 75.0355 21.702 74.7518 21.5601C74.3262 21.702 72.6241 22.4112 71.4894 22.9786L69.7872 23.8297C65.3901 25.9573 64.539 26.5247 65.2482 28.2268L63.1206 24.1133Z" fill="white"/>
            <path d="M73.4752 34.61C78.2979 34.1844 79.2908 34.0426 79.2908 32.9078L80 40.7093L76.5957 41.5603C78.8652 40.9929 79.5745 39.2908 79.4326 37.0213V35.8866C78.5816 35.7447 77.0213 35.8866 74.0426 36.0284L74.1844 38.2979C74.3262 39.5745 75.3191 40 77.1631 39.8582L71.3475 40.4256C73.1915 40.2837 74.0425 39.5745 73.9007 38.4398L73.7589 36.1702C69.7872 36.4539 68.5106 36.8795 68.0851 37.0213V37.5887C68.3688 40.8511 69.9291 42.4114 72.3404 42.5532H68.0851L67.3759 34.0426C67.8014 35.1773 68.7943 35.0355 73.4752 34.61Z" fill="white"/>
            <path d="M73.4751 48.5107C69.7872 63.688 56.1702 75.0356 39.8581 75.0356C23.5461 75.0356 9.92904 63.688 6.2411 48.5107H5.53188C9.21982 64.1136 23.2624 75.7448 39.8581 75.7448C56.4539 75.7448 70.4964 64.1136 74.1844 48.5107H73.4751Z" fill="white"/>
            </svg>
    </div>
</a>